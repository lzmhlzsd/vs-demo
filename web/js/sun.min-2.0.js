eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([cdgjm-qs-vA-Z]|[1-4]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('d 3w=n(1D){m.a=1;m.1E={3x:$.noop};Q(d op in 1D){m.1E[op]=1D[op]}m.3y();m.3z();m.3A();m.3B();d 1h=[[-E.F/2,0,0,50,0.1,1F,2K],[-E.F/2,0,0,50,0.1,-1F,2K],[-E.F/2,0,-E.F/2,-340,0.1,-0,2L],[-E.F/2,0,-E.F/2,440,0.1,-0,2L]];Q(d i=0;i<1h.C;i++){m.3C(1h[i][0],1h[i][1],1h[i][2],1h[i][3],1h[i][4],1h[i][5],1h[i][6])}m.3D();m.3E();m.3F();m.1c(m.p,m.M);m.2M=q g.3G();d c=m;1G.3H(\'mousedown\',n(e){c.3I(e,c)},1o);m.2h=[]};3w.prototype={3y:n(){$(\'3J\').append(\'<1Q class="3K"><1Q>加载中...<1Q></1Q>\');m.2N=1G.2i(\'1Q\');1G.3J.3L(m.2N);m.p=q g.Scene();m.M=q g.PerspectiveCamera(18,1y.2O/1y.2P,1,10000);m.M.s.1z(600,400,1100);m.p.N(m.M)},3z:n(){m.1p=q g.WebGLRenderer({antialias:G});m.1p.setClearColor(0x13364b);m.1p.setPixelRatio(1y.devicePixelRatio);m.1p.setSize(1y.2O,1y.2P);m.1p.shadowMap.enabled=G;m.2N.3L(m.1p.3M)},3A:n(){d c=m;c.2Q=q g.OrbitControls(c.M,c.1p.3M);c.2Q.damping=0.2;c.2Q.3H(\'change\',n(e,b){Q(d 2j in c.1i){c.1i[2j].2k.B.y=m.1q.B.z}c.1c(c.p,c.M)},G)},_createGrid:n(){d 1R=q g.GridHelper(1A,50);1R.s.y=0;1R.1d.V=0.25;1R.1d.W=G;m.p.N(1R)},_createAxis:n(){d 3N=q g.AxisHelper(1r);m.p.N(3N)},3I:n(2R,K){d 1S={x:0,y:0};1S.x=(2R.clientX/1y.2O)*2-1;1S.y=-(2R.clientY/1y.2P)*2+1;d 2S=q g.Vector3(1S.x,1S.y,1);2M=q g.3G();2M.unprojectVector(2S,K.M);d 3O=q g.Raycaster(K.M.s,2S.sub(K.M.s).normalize());d 2l=3O.intersectObjects(K.2h);A(2l.C>0){console.log(2l[0].1q.X);K.3P(2l[0].1q.X)}1T{K.2T()}},3B:n(){d c=m;d J=q g.2U().1s("2V/caodi.3Q",n(){c.1c(c.p,c.M)});J.2W=g.1H;J.2X=g.1H;J.2Y.1z(20,2);d 1d=q g.1I({1j:\'#c0c0c0\',W:1o,1J:g.1K,V:1});d 2m=q g.1U(2K,2L,1,1);d D=q g.1e(2m,1d);D.B.x=-E.F/2;D.s.x=50;D.s.y=-0.1;m.p.N(D)},createWall:n(){d c=m;d 1V=q g.2U().1s("2V/wall03_3d.png",n(){c.1c(c.p,c.M)});1V.2W=g.1H;1V.2X=g.1H;1V.2Y.1z(20,2);d 1W=q g.1I({1X:1V,W:1o,1J:g.1K,V:1});d 3R=q g.2n(1A,5,20);d 1Y=q g.1e(3R,1W);1Y.B.x=-E.F/2;1Y.s.y=10;1Y.s.z=2o;m.p.N(1Y);d 3S=q g.2n(2p,5,50);d D=q g.1e(3S,1W);D.B.x=-E.F/2;D.B.z=-E.F/2;D.s.x=-1F;D.s.y=25;D.s.z=0;m.p.N(D);d 3T=q g.2n(2p,5,50);d D=q g.1e(3T,1W);D.B.x=-E.F/2;D.B.z=-E.F/2;D.s.x=1F;D.s.y=25;D.s.z=0;m.p.N(D);d 3U=q g.2n(1A,5,50);d D=q g.1e(3U,1W);D.B.x=-E.F/2;D.s.x=0;D.s.y=25;D.s.z=-2o;m.p.N(D)},3C:n(rx,ry,rz,x,y,z,l){d c=m;d 1Z=q g.2U().1s("2V/xian1.3Q",n(){c.1c(c.p,c.M)});1Z.2W=g.1H;1Z.2X=g.1H;1Z.2Y.1z(5,1);d 3Y=q g.1I({1X:1Z,W:1o,1J:g.1K,V:1});d 2m=q g.1U(l,20,1,1);d 1t=q g.1e(2m,3Y);1t.B.x=rx;1t.B.y=ry;1t.B.z=rz;1t.s.x=x;1t.s.y=y;1t.s.z=z;c.p.N(1t)},1c:n(p,M){m.1p.1c(p,M)},createMazak:n(O){c.t={};c.3Z={};d 1L=[[-2q,0.1,2a],[-1r,0.1,2a],[0,0.1,2a],[1r,0.1,2a],[-2q,0.1,15],[-1r,0.1,15],[0,0.1,15],[1r,0.1,15],[-2q,0.1,-95],[-1r,0.1,-95],[0,0.1,-95],[1r,0.1,-95]];d 2r=[[-1k,60,1u],[-80,60,1u],[20,60,1u],[2Z,60,1u],[-1k,60,0],[-80,60,0],[20,60,0],[2Z,60,0],[-1k,60,-1u],[-80,60,-1u],[20,60,-1u],[2Z,60,-1u]];Q(d i=0;i<1L.C;i++){(n(i){c.loader.1s(\'Y/41/41.39\',n(Z){c.t[i]=Z.p;c.t[i].s.x=1L[i][0];c.t[i].s.y=1L[i][1];c.t[i].s.z=1L[i][2];c.t[i].H.x=0.25;c.t[i].H.y=0.25;c.t[i].H.z=0.25;c.p.N(c.t[i])});d P=1G.2i(\'P\');P.3a=2s;P.3b=2q;d j=P.3c(\'2d\');j.2t=1;j.2u="1v(1a,1a,1a, 1)";c.2c(0,0,2s,192,15,j);j.2v();j.1w=\'1v(1a,1a,1a, 0.8)\';j.2w();j.1w=\'#42\';j.2x=\'2y\';j.2z=\'2A 2B\';j.R("设备名称：-- --",20,50);j.R(\'设备状态：-- --\',20,90);j.R(\'报警号：-- --\',50,130);j.R(\'加工零件：-- --\',20,170);d J=q g.3d(P);J.2C=G;d 1N=q g.1U(80,50,1,1);d 1l=q g.1I({W:G,1J:g.1K,V:0.8,2e:1o,1X:J});d T=q g.1e(1N,1l);T.s.1z(2r[i][0],2r[i][1],2r[i][2]);T.B.y=E.F/4;c.p.N(T);c.3Z[i]={j:j,J:J,2k:T,2f:1l};A(i==1L.C-1){setTimeout(n(){c.1c(c.p,c.M)},2000)}})(i)}},3D:n(){d c=m;Q(d i=0;i<5;i++){(n(i){d 1f=q g.3e();1f.1D.3f=G;A(i==0){1f.1s(\'Y/44/44.39\',n(Z){d p=Z.p;p.H.x=0.3;p.H.y=0.3;p.H.z=0.3;p.s.y=5;p.s.z=0;c.p.N(p)})}A(i==1){1f.1s(\'Y/45/45.39\',n(Z){d p=Z.p;p.H.x=0.3;p.H.y=0.3;p.H.z=0.3;p.s.y=5;p.s.z=220;c.p.N(p)})}})(i)}},3E:n(){d c=m;c.t={};c.1i={};c.displays2={};$.46(\'./2D/U.2D\',n(U){n 3g(o,i){d 1f=q g.3e();1f.1D.3f=G;1f.1s(o[i].47,n(Z){c.t[o[i].u]=Z.p;c.t[o[i].u].H.x=o[i].H.x;c.t[o[i].u].H.y=o[i].H.y;c.t[o[i].u].H.z=o[i].H.z;c.t[o[i].u].s.x=o[i].s.x;c.t[o[i].u].s.y=o[i].s.y;c.t[o[i].u].s.z=o[i].s.z;c.t[o[i].u].B.x=E.F/1k*o[i].B.x;c.t[o[i].u].B.y=E.F/1k*o[i].B.y;c.t[o[i].u].B.z=E.F/1k*o[i].B.z;d 48={u:o[i].u,U:[]};Z.p.1B(n(v){A(v 49 g.1e){v[\'X\']=o[i].u;c.2h.3h(v)}});c.p.N(c.t[o[i].u]);c.3i(o[i]);A(i<o.C-1){d k=i+1;3g(o,k)}})}3g(U,0)});$.46(\'./2D/data1.2D\',n(U){n 3j(o,i){d 1f=q g.3e();1f.1D.3f=G;1f.1s(o[i].47,n(Z){c.t[o[i].u]=Z.p;c.t[o[i].u].H.x=o[i].H.x;c.t[o[i].u].H.y=o[i].H.y;c.t[o[i].u].H.z=o[i].H.z;c.t[o[i].u].s.x=o[i].s.x;c.t[o[i].u].s.y=o[i].s.y;c.t[o[i].u].s.z=o[i].s.z;c.t[o[i].u].B.x=E.F/1k*o[i].B.x;c.t[o[i].u].B.y=E.F/1k*o[i].B.y;c.t[o[i].u].B.z=E.F/1k*o[i].B.z;d 48={u:o[i].u,U:[]};Z.p.1B(n(v){A(v 49 g.1e){v[\'X\']=o[i].u;c.2h.3h(v)}});c.p.N(c.t[o[i].u]);c.3i(o[i]);A(i<o.C-1){d k=i+1;3j(o,k)}A(i==o.C-1){c.1c(c.p,c.M);$(\'.3K\').hide();$(\'.status_list_count\').4a();$(\'.4b\').4a();c.1E.3x.call(c)}})}3j(U,0)})},3i:n(S){A(!Y[S.u].2E){1x}d c=m;d P=1G.2i(\'P\');P.3a=1A;P.3b=2p;d j=P.3c(\'2d\');j.2t=1;j.2u="1v(0,0,0, 1)";c.2c(0,0,1A,4c,15,j);j.2v();j.1w=\'1v(0,0,0, 1)\';j.2w();j.1w=\'#4d\';j.2x=\'2y\';j.2z=\'2A 2B\';j.R("设备编号："+Y[S.u].X,20,40);j.R("设备名称："+c.2F(Y[S.u].X),20,95);j.R("工单号："+\'-- --\',50,2o);j.R("工单名称："+\'-- --\',20,4e);j.R("工单状态："+\'-- --\',20,1F);d J=q g.3d(P);J.2C=G;d 1N=q g.1U(1r,60,1,1);d 1l=q g.1I({W:G,1J:g.1K,V:0.8,2e:1o,1X:J});d T=q g.1e(1N,1l);T.s.1z(S.1O.s[0],S.1O.s[1]+15,S.1O.s[2]);T.B.y=E.F/6;c.p.N(T);c.1i[S.u]={j:j,J:J,2k:T,2f:1l}},createDisplay2:n(S){A(!Y[S.u].2E){1x}d c=m;d P=1G.2i(\'P\');P.3a=2s;P.3b=140;d j=P.3c(\'2d\');j.2t=1;j.2u="1v(1a,1a,1a, 1)";c.2c(0,0,2s,2a,15,j);j.2v();j.1w=\'1v(1a,1a,1a, 0.8)\';j.2w();j.1w=\'#42\';j.2x=\'2y\';j.2z=\'2A 2B\';j.R("设备编号："+Y[S.u].X,20,50);j.R("设备名称："+c.2F(Y[S.u].X),20,90);d J=q g.3d(P);J.2C=G;d 1N=q g.1U(80,35,1,1);d 1l=q g.1I({W:G,1J:g.1K,V:0.8,2e:1o,1X:J});d T=q g.1e(1N,1l);T.s.1z(S.1O.s[0],S.1O.s[1],S.1O.s[2]);T.B.y=E.F/4;c.p.N(T);c.1i[S.u]={j:j,J:J,2k:T,2f:1l}},3F:n(){d 4f=q g.HemisphereLight(0xffffff,0x111122);m.p.N(4f)},2c:n(x,y,w,h,r,K){K.beginPath();K.moveTo(x+r,y);K.2G(x+w,y,x+w,y+h,r);K.2G(x+w,y+h,x,y+h,r);K.3k(w/2+8,y+h);K.3k(w/2,y+h+8);K.3k(w/2-8,y+h);K.2G(x,y+h,x,y,r);K.2G(x,y,x+w,y,r);K.closePath();1x K},_colorRgb:n(4g){d 1m=4g.toLowerCase();d 4h=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;A(1m&&4h.test(1m)){A(1m.C===4){d 3l="#";Q(d i=1;i<4;i+=1){3l+=1m.3m(i,i+1).concat(1m.3m(i,i+1))}1m=3l}d 3n=[];Q(d i=1;i<7;i+=2){3n.3h(4k("0x"+1m.3m(i,i+2)))}1x"RGB("+3n.join(",")+")"}1T{1x 1m}},run:n(){},updateDisplay:n(U){d c=m;_.each(c.1i,n(O,1n){A(Y[1n].2E){d X=Y[1n].X;d 4l=c.2F(X);d 1q=c.4m(X,U);A(typeof 1q!=\'undefined\'){d 3o=1q.4n;d 3p=1q.3q;d 3r=1q.3s}1T{d 3o=\'-- --\';d 3p=\'-- --\';d 3r=\'-- --\'}O.j.clearRect(0,0,1A,2p);O.j.2t=1;O.j.2u="1v(0,0,0, 1)";c.2c(0,0,1A,4c,15,O.j);O.j.2v();O.j.1w="1v(0,0,0, 1)";O.j.2w();O.j.1w=\'#4d\';O.j.2x=\'2y\';O.j.2z=\'2A 2B\';O.j.R("设备编号："+X,20,40);O.j.R("设备名称："+4l,20,95);O.j.R("工单号："+3o,50,2o);O.j.R("工单名称："+3p,20,4e);d 2H=_.where(4b,{status_id:4k(3r)});d 3t="-- --";d L="#ff0000";A(2H.C>0){3t=2H[0].name;L=2H[0].1j}O.j.R("工单状态："+3t,20,1F);O.J.2C=G;switch(Y[1n].model_id){2g\'CNC_001\':c.4o(c.t[1n],L);3u;2g\'CNC_003\':c.4p(c.t[1n],L);3u;2g\'CNC_004\':c.4q(c.t[1n],L);3u;2g\'CNC_007\':c.4r(c.t[1n],L);2g\'CNC_008\':c.4s(c.t[1n],L)}}});c.1c(c.p,c.M)},4o:n(1g,L){1g.1B(n(v){A(v.I.C==17){Q(d i=0;i<v.I.C;i++){v.I[i].1d=q g.1C({1j:L,W:G,V:1})}}1T A(v.I.C==26){d 1b=[0,2,3,4,5,6,7,8,11,12,13,15,16,17,18,19,20,21,22,23,24];Q(d i=0;i<v.I.C;i++){A(_.1P(1b,i)<0){v.I[i].1d=q g.1C({1j:L,W:G,V:1})}}}})},4p:n(1g,L){1g.1B(n(v){A(v.I.C==38){d 1b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37];Q(d i=0;i<v.I.C;i++){A(_.1P(1b,i)<0){v.I[i].1d=q g.1C({1j:L,W:G,V:1})}}}})},4q:n(1g,L){1g.1B(n(v){A(v.I.C==23){d 1b=[3,4,5,6,7,9,10,11,12,13,14,15,16,17,18,19,20,21];Q(d i=0;i<v.I.C;i++){A(_.1P(1b,i)<0){v.I[i].1d=q g.1C({1j:L,W:G,V:1})}}}})},4r:n(1g,L){1g.1B(n(v){A(v.I.C==34){d 1b=[3,4,5,6,7,8,9,10,12,15,20,22];Q(d i=0;i<v.I.C;i++){A(_.1P(1b,i)<0){v.I[i].1d=q g.1C({1j:L,W:G,V:1})}}}1T A(v.I.C==10){d 1b=[];Q(d i=0;i<v.I.C;i++){A(_.1P(1b,i)<0){v.I[i].1d=q g.1C({1j:L,W:G,V:1})}}}})},4s:n(1g,L){1g.1B(n(v){A(v.I.C==167){d 1b=[0,2,3,4,5,6,7,8,9,10];Q(d i=0;i<v.I.C;i++){A(_.1P(1b,i)>=0){v.I[i].1d=q g.1C({1j:L,W:G,V:1})}}}})},3P:n(k){A(!Y[k].2E){1x};d c=m;c.2T();c.1i[k].2f.4t({2e:G});c.1c(c.p,c.M)},2F:n(k){Q(d i=0;i<m.1E.3v.C;i++){A(m.1E.3v[i].4u[0]==k){1x m.1E.3v[i].MO_name[0]}}},4m:n(k,U){Q(d i=0;i<U.C;i++){A(U[i].4u[0]==k){1x{4n:U[i].WO_Key[0],3q:U[i].3q[0],3s:U[i].3s[0]}}}},2T:n(){Q(d 2j in m.1i){m.1i[2j].2f.4t({2e:1o})}}}',[],279,'||||||||||||self|var|||THREE|||context|||this|function|result|scene|new||position|machines|id|child|||||if|rotation|length|mesh|Math|PI|true|scale|children|texture|that|status_color|camera|add|value|canvas|for|fillText|obj|mesh_text|data|opacity|transparent|mac_id|model|collada|||||||||||255|filter|render|material|Mesh|loaders|mac|factoryGround|displays1|color|180|material_text|sColor|key|false|renderer|object|100|load|mesh_chejian|110|rgba|fillStyle|return|window|set|500|traverse|MeshLambertMaterial|options|default_options|250|document|RepeatWrapping|MeshBasicMaterial|side|DoubleSide|dae_position||geometry_text|display1|indexOf|div|helper|mouse|else|PlaneGeometry|texture_wall|material_wall|map|mesh_wall|texture_chejian|||||||||||125||_roundRect||visible|materialtext|case|targetList|createElement|item|meshtext|intersects|geometry|CubeGeometry|150|300|200|displayGeometry|320|lineWidth|strokeStyle|stroke|fill|textAlign|left|font|30px|Arial|needsUpdate|json|enable|_findMacById|arcTo|status_array|||800|520|projector|container|innerWidth|innerHeight|controls|event|vector|resetDisplay|TextureLoader|img|wrapS|wrapT|repeat|120||||||||||dae|width|height|getContext|Texture|ColladaLoader|convertUpAxis|digui|push|createDisplay1|digui1|lineTo|sColorNew|slice|sColorChange|wo_key|wo_name|WO_name|jobstatus|Jobstatus|status_name|break|maclist|Sun|complete|_init|_createRender|_createControls|createGround|createFactoryGround|createTransmission|createCNC|createLight|Projector|addEventListener|onDocumentMouseMove|body|loading|appendChild|domElement|axis|ray|showDisplay|jpg|geometry_wall|geometry1|geometry2|geometry3||||material_chejian|displays||CNC4|000000||Conveyor1|Conveyor|getJSON|url|cnc|instanceof|show|status_list|285|ffffff|205|light|sHex|reg|||parseInt|mac_name|_findOrderByMacId|WO_key|_update_cnc_001|_update_cnc_003|_update_cnc_004|_update_cnc_007|_update_cnc_008|setValues|MO_key'.split('|'),0,{}))